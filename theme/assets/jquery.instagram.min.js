!function($){function composeRequest(options){var url="https://api.instagram.com/v1",data={};if(null==options.accessToken&&null==options.clientId)throw"You must provide an access token or a client id";if(data=$.extend(data,{access_token:options.accessToken||"",client_id:options.clientId||"",count:options.count||""}),null!=options.url)url=options.url;else if(null!=options.hash)url+="/tags/"+options.hash+"/media/recent";else if(null!=options.search)url+="/media/search",data=$.extend(data,options.search);else if(null!=options.userId){if(null==options.accessToken)throw"You must provide an access token";url+="/users/"+options.userId+"/media/recent"}else null!=options.location?(url+="/locations/"+options.location.id+"/media/recent",delete options.location.id,data=$.extend(data,options.location)):url+="/media/popular";return{url:url,data:data}}$.fn.instagram=function(options){var that=this;options=$.extend({},$.fn.instagram.defaults,options);var request=composeRequest(options);return $.ajax({dataType:"jsonp",url:request.url,data:request.data,success:function(response){that.trigger("didLoadInstagram",response)}}),this.trigger("willLoadInstagram",options),this},$.fn.instagram.defaults={accessToken:null,clientId:null,count:null,url:null,hash:null,userId:null,location:null,search:null}}(jQuery),function($){var BootstrapifyInstagram=function($ele,settings){this.$ele=$ele,this.settings=settings,this.clientId=this.$ele.data("client-id"),this.feedLink=this.$ele.data("instagram-link"),this.hastag=this.$ele.data("hashtag"),this.defaultHashtag=this.$ele.data("default-hashtag"),this.currentHashtag=this.hastag||this.defaultHashtag,this.imageCount=this.$ele.data("image-count"),this.blacklist=this.$ele.data("blacklist").split(","),this.currentHashtag?(this.addEventListeners(),this.loadInstagramImages(this.currentHashtag)):(this.$ele.html(""),console.log("No hashtag set for instagram feed."))};BootstrapifyInstagram.prototype.addEventListeners=function(){var self=this;this.$ele.on("didLoadInstagram",function(event,response){self.didLoadInstagram(this,event,response)})},BootstrapifyInstagram.prototype.loadInstagramImages=function(hashtag){this.currentHashtag=hashtag,this.$ele.instagram({hash:hashtag,count:this.imageCount+10,clientId:this.clientId})},BootstrapifyInstagram.prototype.didLoadInstagram=function(element,event,response){var self=this;response.data.length>0?(self.updateMessageHashtag(),self.loopResponseData(response.data)):self.noResponseData()},BootstrapifyInstagram.prototype.updateMessageHashtag=function(){var messageHashtag=this.$ele.find(".hashtag");messageHashtag.length>0&&messageHashtag.text()!==this.currentHashtag&&messageHashtag.text(this.currentHashtag)},BootstrapifyInstagram.prototype.loopResponseData=function(data){var self=this,imageCount=0;$.each(data,function(i,photo){return imageCount===self.imageCount?!1:void(self.notInBlackList(photo)&&(self.addImage(photo),imageCount++))})},BootstrapifyInstagram.prototype.addImage=function(photo){var imageContainer=this.$ele.find(".instagram-images"),imageElement=this.createPhotoElement(photo);imageContainer.append(imageElement)},BootstrapifyInstagram.prototype.createPhotoElement=function(photo){var innerHtml=$("<img>").addClass("instagram-image thumbnail").attr("src",photo.images.low_resolution.url);return innerHtml=$("<a>").attr("target","_blank").attr("href",photo.link).append(innerHtml),$("<div>").addClass("instagram-thumb "+this.settings.thumbClass).attr("id",photo.id).append(innerHtml)},BootstrapifyInstagram.prototype.notInBlackList=function(photo){var inList=!0;return $.each(this.blacklist,function(i,str){str=$.trim(str),""!==str&&-1!==photo.link.indexOf(str)&&(inList=!1)}),inList},BootstrapifyInstagram.prototype.noResponseData=function(){if(this.currentHashtag!==this.defaultHashtag)this.loadInstagramImages(this.defaultHashtag);else{var message=$("p").text("No images found for #"+this.currentHashtag);this.$ele.append(message)}},$.fn.bootstrapifyInstagram=function(options){var opts=$.extend({},$.fn.bootstrapifyInstagram.defaults,options);return this.each(function(){var $ele=$(this);$ele.data("_bootstrapifyInstagram",new BootstrapifyInstagram($ele,opts))})},$.fn.bootstrapifyInstagram.defaults={thumbClass:"col-xs-6 col-sm-3"}}(jQuery);